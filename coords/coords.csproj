<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net8.0-windows</TargetFramework>
    <UseWindowsForms>true</UseWindowsForms>
    <OutputType>WinExe</OutputType>

    <AssemblyName>Coords</AssemblyName>
    <RootNamespace>coords</RootNamespace>
    <ApplicationIcon>avedesk.ico</ApplicationIcon>

    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <LangVersion>latest</LangVersion>
    <AnalysisLevel>latest</AnalysisLevel>
  </PropertyGroup>

  <!-- Optional: one-command local deploy into your DesktopShell Bin folder.
       Example:
         dotnet build -c Release -p:DeployToDesktopShell=true -p:DesktopShellBinPath="D:\Programs\DesktopShell\Bin"
  -->
  <PropertyGroup>
    <DeployToDesktopShell>false</DeployToDesktopShell>
    <DesktopShellBinPath></DesktopShellBinPath>
  </PropertyGroup>

  <Target Name="DeployToDesktopShell" AfterTargets="Build"
          Condition="'$(DeployToDesktopShell)' == 'true' and '$(DesktopShellBinPath)' != '' and Exists('$(TargetPath)')">
    <Copy SourceFiles="$(TargetPath)" DestinationFiles="$(DesktopShellBinPath)\Coords.exe" SkipUnchangedFiles="true" />
  </Target>
</Project>